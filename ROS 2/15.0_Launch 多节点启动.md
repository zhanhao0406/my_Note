# launch 文件

launch文件的基本配置。   
( 详见： /learning_launch/launch/simple.launch.py)

---
launch文件的加载，可以导入自己设置好的配置。   
( 详见： /learning_launch/launch/rviz.launch.py)   
`ros2 run rviz2 rviz2 -d #后面添加配置文件的路径`  
例如：ros2 run rviz2 rviz2 -d /home/ros2/dev_ws/src/ros2_21_tutorials/learning_launch/rviz/turtle_rviz.rviz

---
launch 多个文件，多节点。  
（详见： /learning_launch/launch/remapping.launch.py）  
<details> 
<summary><mark> remapping.launch.py 详细代码 <mark></summary>

```py
from launch import LaunchDescription      # launch文件的描述类
from launch_ros.actions import Node       # 节点启动的描述类

def generate_launch_description():        # 自动生成launch文件的函数
    return LaunchDescription([            # 返回launch文件的描述信息
        Node(                             # 配置一个节点的启动
            package='turtlesim',          # 节点所在的功能包
            namespace='turtlesim1',       # 节点所在的命名空间,所有话题都会自动加上命名空间前缀
            executable='turtlesim_node',  # 节点的可执行文件名
            name='sim'                    # 对节点重新命名 : 这个节点的完整名称是/turtlesim1/sim
        ),
        Node(                             # 配置一个节点的启动
            package='turtlesim',          # 节点所在的功能包
            namespace='turtlesim2',       # 节点所在的命名空间,所有话题都会自动加上命名空间前缀
            executable='turtlesim_node',  # 节点的可执行文件名
            name='sim'                    # 对节点重新命名
        ),
        Node(                             # 配置一个节点的启动 mimic节点的功能,订阅一个乌龟的位姿（pose）消息,发布速度控制（cmd_vel）消息给另一个乌龟,让第二个乌龟跟随第一个乌龟的运动轨迹
            package='turtlesim',          # 节点所在的功能包
            executable='mimic',           # 节点的可执行文件名
            name='mimic',                 # 对节点重新命名
            remappings=[                  # 资源重映射列表
                ('/input/pose', '/turtlesim1/turtle1/pose'),         # 输入重映射, 将订阅：/input/pose  →  重映射为  →  实际订阅：/turtlesim1/turtle1/pose
                ('/output/cmd_vel', '/turtlesim2/turtle1/cmd_vel'),  # 输出重映射, 将发布：/output/cmd_vel → 重映射为 → 实际发布：/turtlesim2/turtle1/cmd_vel
        )
    ])

```
</details>

其中，mimic的数据流向如下：  
```text
第一个乌龟运动
    ↓
发布位姿：/turtlesim1/turtle1/pose
    ↓
被mimic节点订阅（通过重映射/input/pose→...）
    ↓
mimic节点计算控制指令
    ↓
发布速度：/output/cmd_vel（重映射为/turtlesim2/turtle1/cmd_vel）
    ↓
第二个乌龟接收速度指令并移动
```

---
launch 文件的参数修改加载。  
（详见： /learning_launch/launch/parameters.launch.py）   最复杂   
（详见： /learning_launch/launch/parameters_yaml.launch.py）   个人喜欢这个——中等复杂，对应的地址是：/learning_launch/config/turtlesim.yaml   
（详见： /learning_launch/launch/namespace.launch.py）  用launch之间的互相包含，启动launch中的launch，更模块化。
